<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ‰ Chasmisss's Birthday Celebration! ğŸ‰</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            background: linear-gradient(135deg, #0a0e27 0%, #1a1a3e 25%, #2d0a4e 50%, #1a1a3e 75%, #0a0e27 100%);
            min-height: 100vh;
            font-family: 'Arial', sans-serif;
            overflow-x: hidden;
            position: relative;
            transition: background-image 0.6s ease;
        }
        /* Small settings panel */
        .top-bar {
            position: fixed; top: 12px; right: 12px; z-index: 50;
            background: rgba(0,0,0,0.45); padding: 10px; border-radius: 10px;
            backdrop-filter: blur(6px);
        }
        .top-bar input { display: none; }
        .top-bar label { margin: 0 6px; cursor: pointer; color: #fff; font-weight: bold; }
        .top-bar button { background: linear-gradient(45deg,#ff00ff,#00ffff); border:none; color:white; padding:6px 10px; border-radius:8px; cursor:pointer; }

        /* Reused existing styles (stars, meteors, content) */
        .stars { position: fixed; width: 100%; height: 100%; top: 0; left: 0; z-index: 1; }
        .star { position: absolute; width: 2px; height: 2px; background: white; border-radius: 50%; animation: twinkle 3s infinite; }
        @keyframes twinkle { 0%,100%{opacity:.3}50%{opacity:1} }
        .meteor-container { position: fixed; width:100%; height:100%; top:0; left:0; z-index:2; pointer-events:none }
        .meteor { position:absolute; width:4px; height:4px; background: radial-gradient(circle,#ffff00,#ff8800,#ff0000); border-radius:50%; box-shadow:0 0 20px #ff8800,0 0 40px #ff4400; animation:meteorFall linear forwards; }
        .meteor::before { content:''; position:absolute; top:-30px; left:0; width:100%; height:30px; background: linear-gradient(to bottom, rgba(255,136,0,0.6), transparent); border-radius:50%; filter: blur(2px); }
        @keyframes meteorFall { 0%{transform:translateY(0) translateX(0) rotate(45deg); opacity:1}100%{transform:translateY(100vh) translateX(100px) rotate(45deg); opacity:0} }
        .particle { position:absolute; pointer-events:none }
        .particle-star { width:3px; height:3px; background:#00ffff; border-radius:50%; box-shadow:0 0 10px #00ffff; animation:float 6s infinite ease-in-out }
        @keyframes float { 0%,100%{transform:translateY(0);opacity:1}50%{transform:translateY(-20px);opacity:.5} }

        .container { position: relative; z-index: 10; display:flex; flex-direction:column; align-items:center; justify-content:center; min-height:100vh; padding:20px }
        .header { text-align:center; margin-bottom:40px; animation:slideDown 1s ease-out }
        @keyframes slideDown { from{opacity:0;transform:translateY(-50px)} to{opacity:1;transform:translateY(0)} }
        .header h1 { font-size:3.2rem; background:linear-gradient(45deg,#ff00ff,#00ffff,#ffff00,#ff00ff); background-size:300% 300%; -webkit-background-clip:text; -webkit-text-fill-color:transparent; animation:gradientShift 3s ease infinite; text-shadow:0 0 20px rgba(255,0,255,0.4); margin-bottom:6px }
        @keyframes gradientShift{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
        .header p{ font-size:1.2rem; color:#00ffff; text-shadow:0 0 8px #00ffff }

        .countdown-section { background: rgba(255,0,255,0.08); border:2px solid #00ffff; border-radius:16px; padding:20px; margin:30px 0; box-shadow:0 0 20px rgba(0,255,255,0.2); max-width:600px }
        .countdown { display:flex; justify-content:space-around; gap:12px }
        .countdown-item{ background: rgba(0,255,255,0.06); border:1px solid #00ffff; border-radius:12px; padding:12px; min-width:70px; text-align:center }
        .number{ font-size:2rem; font-weight:700; color:#ff00ff; text-shadow:0 0 8px #ff00ff }

        .message-section{ background: rgba(0,255,255,0.06); border:2px solid #ff00ff; border-radius:16px; padding:18px; margin:30px 0; max-width:760px }
        .gallery-section{ margin:30px 0; max-width:920px }
        .gallery{ display:grid; grid-template-columns: repeat(auto-fit,minmax(180px,1fr)); gap:14px; padding:0 10px }
        .gallery-item{ background: rgba(255,0,255,0.12); border:2px solid #00ffff; border-radius:12px; overflow:hidden; cursor:pointer; transition:transform .25s, box-shadow .25s; height:170px; display:flex; align-items:center; justify-content:center }
        .gallery-item img{ width:100%; height:100%; object-fit:cover }
        .gallery-placeholder{ font-size:2.4rem }

        .wishes-section{ background: rgba(255,0,255,0.08); border:2px solid #ffff00; border-radius:14px; padding:18px; margin:30px 0; max-width:720px }
        .wish{ background: rgba(0,255,255,0.06); border-left:4px solid #ff00ff; padding:12px; margin:10px 0; border-radius:8px }
        .footer{ margin-top:40px; color:#00ffff; text-shadow:0 0 8px #00ffff }

        .button{ background: linear-gradient(45deg,#ff00ff,#00ffff); color:white; border:none; padding:10px 16px; font-size:1rem; border-radius:40px; cursor:pointer }

        @media (max-width:768px){ .header h1{ font-size:2rem } .gallery-item{ height:140px } }
    </style>
</head>
<body>
    <!-- Top small settings: upload background and music, toggle music -->
    <div class="top-bar" title="Page controls">
        <label for="bgUpload">ğŸ“¤ Background</label>
        <input id="bgUpload" type="file" accept="image/*">
        <label for="musicUpload">ğŸµ Music</label>
        <input id="musicUpload" type="file" accept="audio/*">
        <button id="toggleMusicBtn" class="button">ğŸ”Š Play</button>
    </div>

    <!-- Stars and Meteors -->
    <div class="stars" id="starfield"></div>
    <div class="meteor-container" id="meteorContainer"></div>

    <div class="container">
        <div class="header">
            <h1>ğŸ‰ CHASMISSS ğŸ‰</h1>
            <p>âœ¨ It's Your Special Day! âœ¨</p>
        </div>

        <div class="countdown-section">
            <div class="countdown-title">â° Time Until Your Birthday! â°</div>
            <div class="countdown">
                <div class="countdown-item"><div class="number" id="days">0</div><div class="label">Days</div></div>
                <div class="countdown-item"><div class="number" id="hours">0</div><div class="label">Hours</div></div>
                <div class="countdown-item"><div class="number" id="minutes">0</div><div class="label">Minutes</div></div>
                <div class="countdown-item"><div class="number" id="seconds">0</div><div class="label">Seconds</div></div>
            </div>
        </div>

        <div class="message-section">
            <h2>ğŸ’– A Message For You ğŸ’–</h2>
            <p id="personalMessage">Dear Chasmisss,<br><br>On this special day, I want to remind you of how wonderful you are! Your kindness, laughter, and love mean the world to me, even though the distance separates us.<br><br>Though I can't be there to celebrate with you in person, please know that you're in my heart every single moment. I wish I could be there to share cake, laughter, and memories with you!<br><br>Happy Birthday, Chasmisss! ğŸ‚âœ¨ğŸ’<br><br>With all my love,<br>Your Loving Sibling ğŸ’•</p>
            <button class="button" onclick="sendWish()">ğŸ’Œ Send a Birthday Hug ğŸ’Œ</button>
        </div>

        <div class="gallery-section">
            <h2>ğŸ“¸ Beautiful Memories ğŸ“¸</h2>
            <div class="gallery" id="gallery">
                <div class="gallery-item" data-index="0"><div class="gallery-placeholder">ğŸ“·</div></div>
                <div class="gallery-item" data-index="1"><div class="gallery-placeholder">ğŸ‚</div></div>
                <div class="gallery-item" data-index="2"><div class="gallery-placeholder">ğŸˆ</div></div>
                <div class="gallery-item" data-index="3"><div class="gallery-placeholder">ğŸ‰</div></div>
                <div class="gallery-item" data-index="4"><div class="gallery-placeholder">ğŸ’</div></div>
                <div class="gallery-item" data-index="5"><div class="gallery-placeholder">â­</div></div>
            </div>
            <p style="text-align:center; color:#00ffff; margin-top:14px;">ğŸ’« Click any box to add photos from your device (only for this visit). ğŸ’«</p>
        </div>

        <div class="wishes-section">
            <h2>ğŸŒŸ Birthday Wishes ğŸŒŸ</h2>
            <div class="wish"><div class="wish-author">ğŸ’• From Your Sibling:</div> Chasmisss, you are the brightest star in the sky! Wishing you a year filled with endless joy.</div>
            <div class="wish"><div class="wish-author">ğŸ‰ Special Birthday Message:</div> May your day be as magical and special as you are! ğŸ’–</div>
            <div class="wish"><div class="wish-author">ğŸŒˆ A Heartfelt Wish:</div> Even though distance keeps us apart, our bond is unbreakable! ğŸŒŸ</div>
        </div>

        <div class="footer"><p>âœ¨ Made with love and magic for your special day âœ¨</p></div>
    </div>

    <!-- Hidden audio element -->
    <audio id="birthdayMusic" loop preload="none"></audio>

    <script>
        // existing star generator
        function generateStars(){ const starfield=document.getElementById('starfield'); for(let i=0;i<100;i++){ const star=document.createElement('div'); star.className='star'; star.style.left=Math.random()*100+'%'; star.style.top=Math.random()*100+'%'; star.style.animationDelay=Math.random()*3+'s'; starfield.appendChild(star);} }

        // meteors
        function generateMeteors(){ const meteorContainer=document.getElementById('meteorContainer'); setInterval(()=>{ const meteor=document.createElement('div'); meteor.className='meteor'; const startX=Math.random()*window.innerWidth; meteor.style.left=startX+'px'; meteor.style.top='-50px'; const duration=2+Math.random()*2; meteor.style.animationDuration=duration+'s'; meteorContainer.appendChild(meteor); setTimeout(()=>meteor.remove(), duration*1000); },400); }

        // particles
        function generateParticles(){ setInterval(()=>{ const p=document.createElement('div'); p.className='particle particle-star'; p.style.left=Math.random()*window.innerWidth+'px'; p.style.top=window.innerHeight+'px'; document.body.appendChild(p); setTimeout(()=>p.remove(),6000); },900); }

        // countdown
        function updateCountdown(){ const targetDate=new Date('2025-11-24T00:00:00').getTime(); const timer=setInterval(()=>{ const now=new Date().getTime(); const distance=targetDate-now; const days=Math.max(0,Math.floor(distance/(1000*60*60*24))); const hours=Math.max(0,Math.floor((distance%(1000*60*60*24))/(1000*60*60))); const minutes=Math.max(0,Math.floor((distance%(1000*60*60))/(1000*60))); const seconds=Math.max(0,Math.floor((distance%(1000*60))/1000)); document.getElementById('days').textContent=days; document.getElementById('hours').textContent=hours; document.getElementById('minutes').textContent=minutes; document.getElementById('seconds').textContent=seconds; if(distance<0){ clearInterval(timer); document.querySelector('.countdown-title').textContent='ğŸ‰ Happy Birthday Chasmisss! ğŸ‰'; createConfetti(); } },1000); }

        // confetti
        function createConfetti(){ for(let i=0;i<50;i++){ setTimeout(()=>{ const c=document.createElement('div'); c.className='confetti'; c.style.left=Math.random()*100+'vw'; c.style.top='-10px'; c.style.background=['#ff00ff','#00ffff','#ffff00'][Math.floor(Math.random()*3)]; c.style.width='10px'; c.style.height='10px'; c.style.position='fixed'; c.style.zIndex=60; c.style.pointerEvents='none'; c.style.animation=`fall ${2+Math.random()*2}s linear`; document.body.appendChild(c); setTimeout(()=>c.remove(),5000); }, i*25); } }

        // send wish animation
        function sendWish(){ const emojis=['ğŸ‰','ğŸ’–','âœ¨','ğŸ‚','ğŸˆ','ğŸŒŸ','ğŸ’']; for(let i=0;i<20;i++){ const e=document.createElement('div'); e.className='emoji-float'; e.textContent=emojis[Math.floor(Math.random()*emojis.length)]; e.style.left=Math.random()*window.innerWidth+'px'; e.style.top=window.innerHeight/2+'px'; e.style.zIndex=60; document.body.appendChild(e); setTimeout(()=>e.remove(),4000); } alert('ğŸ’Œ Your birthday hug has been sent to Chasmisss! ğŸ’Œ'); }

        // gallery: allow clicking items to add image from device (client-side preview only)
        function setupGallery(){ const gallery=document.getElementById('gallery'); gallery.addEventListener('click', async (e)=>{ const item=e.target.closest('.gallery-item'); if(!item) return; const input=document.createElement('input'); input.type='file'; input.accept='image/*'; input.onchange=()=>{ const file=input.files[0]; if(!file) return; const url=URL.createObjectURL(file); const img=document.createElement('img'); img.src=url; item.innerHTML=''; item.appendChild(img); }; input.click(); }); }

        // background upload: set page background from chosen image (client-side only)
        function setupBackgroundUpload(){ const bgInput=document.getElementById('bgUpload'); bgInput.addEventListener('change', ()=>{ const file=bgInput.files[0]; if(!file) return; const url=URL.createObjectURL(file); document.body.style.backgroundImage=`url(${url})`; document.body.style.backgroundSize='cover'; document.body.style.backgroundRepeat='no-repeat'; document.body.style.backgroundPosition='center center'; // add dark overlay to keep text readable
            document.body.style.backgroundBlendMode='overlay'; }); }

        // music upload + toggle
        function setupMusicControls(){ const musicInput=document.getElementById('musicUpload'); const audio=document.getElementById('birthdayMusic'); const btn=document.getElementById('toggleMusicBtn'); let isPlaying=false; musicInput.addEventListener('change', ()=>{ const file=musicInput.files[0]; if(!file) return; const url=URL.createObjectURL(file); audio.src=url; audio.load(); audio.play().then(()=>{ isPlaying=true; btn.textContent='ğŸ”Š Pause'; }).catch(()=>{ isPlaying=false; btn.textContent='ğŸ”Š Play'; }); }); btn.addEventListener('click', ()=>{ if(!audio.src){ // load a default gentle track if user hasn't uploaded one
                audio.src='https://cdn.pixabay.com/download/audio/2022/03/16/audio_c8b1e9a6f0.mp3?filename=birthday-party-52873.mp3'; audio.load(); }
            if(audio.paused){ audio.play(); btn.textContent='ğŸ”Š Pause'; } else { audio.pause(); btn.textContent='ğŸ”ˆ Play'; } }); }

        // allow drag & drop background image onto page
        function setupDragDropBg(){ window.addEventListener('dragover', (e)=>e.preventDefault()); window.addEventListener('drop', (e)=>{ e.preventDefault(); const f=e.dataTransfer.files[0]; if(!f) return; if(f.type.startsWith('image/')){ const url=URL.createObjectURL(f); document.body.style.backgroundImage=`url(${url})`; document.body.style.backgroundSize='cover'; document.body.style.backgroundRepeat='no-repeat'; document.body.style.backgroundPosition='center center'; } }); }

        // init
        window.addEventListener('load', ()=>{ generateStars(); generateMeteors(); generateParticles(); updateCountdown(); setupGallery(); setupBackgroundUpload(); setupMusicControls(); setupDragDropBg(); });

        // extra CSS for confetti fall animation injected
        const styleEl=document.createElement('style'); styleEl.textContent='@keyframes fall{to{transform:translateY(100vh) rotate(360deg);opacity:0}} @keyframes emojiFloat{0%{opacity:1;transform:translateY(0) translateX(0) scale(1)}100%{opacity:0;transform:translateY(-100px) translateX(30px) scale(0.5)}}'; document.head.appendChild(styleEl);
    </script>
</body>
</html>